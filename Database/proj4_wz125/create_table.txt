DROP TABLE IF EXISTS PLAYER CASCADE;
DROP TABLE IF EXISTS TEAM CASCADE;
DROP TABLE IF EXISTS COLOR CASCADE;
DROP TABLE IF EXISTS STATE CASCADE;

CREATE TABLE STATE
(STATE_ID SERIAL NOT NULL,
NAME VARCHAR(50),
CONSTRAINT STATID PRIMARY KEY(STATE_ID)
);

CREATE TABLE COLOR
(COLOR_ID SERIAL,
NAME VARCHAR(50),
CONSTRAINT CLORPK PRIMARY KEY(COLOR_ID)
);


CREATE TABLE TEAM
(TEAM_ID SERIAL,
NAME VARCHAR(50),
STATE_ID INT,
COLOR_ID INT,
WINS INT,
LOSSES INT,
CONSTRAINT TMIDPK PRIMARY KEY(TEAM_ID),
CONSTRAINT STATIDFK FOREIGN KEY(STATE_ID) REFERENCES STATE(STATE_ID) ON DELETE SET NULL ON UPDATE CASCADE,
CONSTRAINT CLORIDFK FOREIGN KEY(COLOR_ID) REFERENCES COLOR(COLOR_ID) ON DELETE SET NULL ON UPDATE CASCADE
);


CREATE TABLE PLAYER
(PLAYER_ID SERIAL,
TEAM_ID INT,
UNIFORM_NUM INT,
FIRST_NAME VARCHAR(50),
LAST_NAME VARCHAR(50),
MPG INT,
PPG INT,
RPG INT,
APG INT,
SPG FLOAT,
BPG FLOAT,
CONSTRAINT PLRIDPK PRIMARY KEY(PLAYER_ID),
CONSTRAINT TMIDFK FOREIGN KEY(TEAM_ID) REFERENCES TEAM(TEAM_ID) ON DELETE SET NULL ON UPDATE CASCADE
);


